
\begin{tikzpicture}[scale=1]
\fill[gray, opacity = 0.3] (0,-0.15) rectangle (1.5, 0.15);
\fill[gray, opacity = 0.3] (0,-1.15) rectangle (3.5, -0.85);
\fill[gray, opacity = 0.3] (0,-2.15) rectangle (7.5, -1.85);

\draw[dotted, thick, gray] (0, -0.15) -- (0, -2.15);
\draw[dotted, thick, gray] (2, -0.15) -- (2, -2.15);
\draw[dotted, thick, gray] (4, -0.85) -- (4, -2.15);
\draw[dotted, thick, gray] (6, -1.85) -- (6, -2.15);

\draw (0,-0.15) rectangle (2, 0.15);
\draw (0,-1.15) rectangle (4, -0.85);
\draw (0,-2.15) rectangle (8, -1.85);

\node[anchor = east] at (-0.2, 0) {\footnotesize Buffer (1 GB)};
\node[anchor = east] at (-0.2, -1) {\footnotesize Archivo (2 GB)};
\node[anchor = east] at (-0.2, -2) {\footnotesize Contador interno (4 GB)};

\draw (1.5, -0.2) node[below] (BL) {} -- (1.5, 0.2) node[above] (B) {};
\draw (3.5, -0.8) node[above] (A) {} -- (3.5, -1.2) node[below] (AL) {};
\draw (7.5, -1.8) -- (7.5, -2.2) node[above] (C) {};

\draw[shorten <= 0.2cm, shorten >= 0.01cm, ->, rounded corners] (C.north) |- (BL.south)  -- (BL.north);
\draw[shorten <= 0.2cm, shorten >= 0.01cm, ->, rounded corners] (C.north) |- (AL.south)  -- (AL.north);

\end{tikzpicture}
